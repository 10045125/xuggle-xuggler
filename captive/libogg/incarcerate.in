#!/bin/sh

# Modify this script to pass the necessary parameters to 
# the configure of the captive package you're configuring
prefix="@prefix@"
exec_prefix="@exec_prefix@"
CPPFLAGS="@CPPFLAGS@"
LDFLAGS="@LDFLAGS@"
CFLAGS="@CFLAGS@"
CXXFLAGS="@CXXFLAGS@"
HOST_TYPE=@HOST_TYPE@
HOST_OS=@HOST_OS@

if [ "@VS_CROSS_COMPILE@" = "1" ]; then
  CROSS="--host ${HOST_OS}"
else
  CROSS=
fi

PATH="$PATH:@abs_top_builddir@@bindir@@" sh @abs_srcdir@/csrc/configure \
# For some reason, gcc on Mac OS X lion and these includes don't work well, so we disable
# Technically libogg doesn't need them since it depends on nothing
#  CPPFLAGS="$CPPFLAGS -I@abs_top_builddir@@includedir@" \
#  CFLAGS="$CFLAGS -I@abs_top_builddir@@includedir@" \
#  CXXFLAGS="$CXXFLAGS -I@abs_top_builddir@@includedir@" \
#  LDFLAGS="$LDFLAGS -L@abs_top_builddir@@libdir@" \
  ${CROSS} \
  --disable-dependency-tracking \
  --prefix="${prefix}" || \
  (echo "Could not configure library: \"@abs_srcdir@\"; you may want to try disabling it or installing your own version" && exit 1)
